(function(){window.console||(window.console={log:function(){}}),$(function(){var a,b,c;return window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=function(){var a;return/iP(hone|od|ad)/.test(navigator.platform)?(a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]):!1},window.has_ios=b(),window.is_mobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)?!0:!1,window.is_iphone=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)?!0:!1,window.is_ipad=navigator.userAgent.match(/iPad/i)?!0:!1,window.is_mobile&&$("body").addClass("deviceMobile"),window.breakpointer={s:290,m:650,l:959},window.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},window.transEndEventName=window.transEndEventNames[Modernizr.prefixed("transition")],Modernizr.addTest("highres",function(){var a;return a=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1,!!(a>1)}),"string"==typeof Modernizr.prefixed("transform")&&(window.prefixedTransform=Modernizr.prefixed("transform").replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")),window.helpers={createPlayerAPI:function(){return function(){var a,b;return b=document.createElement("script"),b.src="//www.youtube.com/iframe_api",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a),window.hasYT=!0}}(this),detectIE8:function(){return function(){var a,b,c;return c=window.navigator.userAgent,b=c.indexOf("MSIE "),a=0,b>0&&(a=parseInt(c.substring(b+5,c.indexOf(".",b)),10)),0!==a&&9>a?!0:!1}}(this),detectIE:function(){return function(){var a,b;return b=window.navigator.userAgent,a=b.indexOf("MSIE "),a>0?!0:!1}}(this)},a=$(".js-media-gallery"),1===a.length&&new Gallery(a),c=$(".js-video-cover"),1===c.length?new VideoCover(c):void 0})}).call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};window.Gallery=function(){function b(b){this.ref=b,this.onSliderMoved=a(this.onSliderMoved,this),this.setNavigation=a(this.setNavigation,this),this.setCarousel=a(this.setCarousel,this),this.onPlayerStateChange=a(this.onPlayerStateChange,this),this.setButtons=a(this.setButtons,this),this.onPlayerReady=a(this.onPlayerReady,this),this.onYouTubeIframeAPIReady=a(this.onYouTubeIframeAPIReady,this),this.setVideo=a(this.setVideo,this),this.onResize=a(this.onResize,this),this.w=$(window),this.is_ie=window.helpers.detectIE(),this.carousel=this.ref.find(".js-carousel"),this.loop=!0,this.items=this.carousel.find("> li"),this.nav=this.ref.find(".js-nav"),this.next=this.nav.find(".js-next"),this.prev=this.nav.find(".js-prev"),this.videoCont=$(".js-videoContainer"),this.videoplayer=this.videoCont.find(".js-player"),this.close=this.videoCont.find(".js-close"),this.playerId=this.videoplayer.attr("id"),this.current=0,this.is_enabled=!0,this.setCarousel(),this.setNavigation(),this.setVideo(),this.w.resize(this.onResize),this.onResize()}return b.prototype.onResize=function(){var a;return a=this.carousel.find("li:eq(0)"),a.css({left:"-"+a.width()+"px"})},b.prototype.setVideo=function(){var a,b,c,d,e;for(e=[],a=c=0,d=this.items.length;d>=0?d>c:c>d;a=d>=0?++c:--c)b=$(this.items[a]),"video"===b.attr("data-type")&&window.hasYT!==!0?(window.helpers.createPlayerAPI(),window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady,e.push(this.firstIdtoload=b.attr("data-videoid"))):e.push(void 0);return e},b.prototype.onYouTubeIframeAPIReady=function(){return this.player=new YT.Player(this.playerId,{height:"100%",width:"100%",videoId:"",playerVars:{controls:1,showinfo:0,disablekb:1,wmode:"transparent",enablejsapi:1,origin:document.domain,rel:0},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}}),this.setButtons()},b.prototype.onPlayerReady=function(){},b.prototype.setButtons=function(){var a,b,c,d,e;for(a=d=0,e=this.items.length;e>=0?e>d:d>e;a=e>=0?++d:--d)b=$(this.items[a]),"video"===b.attr("data-type")&&(c=b.find(".js-video-play"),c.click(function(a){return function(b){var c;return b=$.event.fix(b),b.preventDefault(),c=$(b.currentTarget).closest(".video").attr("data-videoid"),a.ref.addClass("video-show"),window.is_mobile?a.player.cueVideoById(c):a.player.loadVideoById(c)}}(this)));return this.close.click(function(a){return function(b){return b=$.event.fix(b),b.preventDefault(),a.player.pauseVideo(),a.ref.removeClass("video-show"),a.player.seekTo(0)}}(this))},b.prototype.onPlayerStateChange=function(a){return a.data===YT.PlayerState.ENDED?this.ref.removeClass("video-show"):void 0},b.prototype.setCarousel=function(){var a,b,c,d,e,f;for(this.carousel.css({width:""+100*this.items.length+"%"}),b=e=0,f=this.items.length;f>=0?f>e:e>f;b=f>=0?++e:--e)c=$(this.items[b]),c.css({width:""+100/this.items.length+"%"});return this.loop?(a=$(this.items[0]).clone(),this.carousel.append(a),d=$(this.items[this.items.length-1]).clone(),this.carousel.prepend(d),d.css({position:"absolute",left:"-"+$(this.items[this.items.length-1]).width()+"px"})):void 0},b.prototype.setNavigation=function(){return this.next.click(function(a){return function(b){return b.preventDefault(),a.is_enabled?a.moveSlider(1):void 0}}(this)),this.prev.click(function(a){return function(b){return b.preventDefault(),a.is_enabled?a.moveSlider(-1):void 0}}(this)),this.carousel.swipe({swipe:function(a){return function(b,c){switch(c){case"left":return a.next.click();case"right":return a.prev.click()}}}(this)})},b.prototype.moveSlider=function(a){return this.is_enabled=!1,this.carousel.hasClass("notransition")&&this.carousel.removeClass("notransition"),this.current=this.current+a,this.is_ie?this.carousel.animate({left:""+-100*this.current+"%",avoidTransforms:!0},{duration:1500,complete:this.onSliderMoved}):(this.carousel.css({left:""+-100*this.current+"%"}),this.carousel.one(""+window.transEndEventName,function(a){return function(b){return b.stopPropagation(),a.onSliderMoved()}}(this)))},b.prototype.onSliderMoved=function(){return this.carousel.addClass("notransition"),this.current===this.items.length&&(this.current=0,this.carousel.css({left:"0"})),-1===this.current&&(this.current=this.items.length-1,this.carousel.css({left:""+-100*this.current+"%"})),this.is_enabled=!0},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};window.VideoCover=function(){function b(b){this.ref=b,this.onPlayerStateChange=a(this.onPlayerStateChange,this),this.onPlayerReady=a(this.onPlayerReady,this),this.onYouTubeIframeAPIReady=a(this.onYouTubeIframeAPIReady,this),this.w=$(window),this.videoCont=this.ref.find(".js-videoContainer"),this.videoplayer=this.videoCont.find(".js-player"),this.close=this.videoCont.find(".js-close"),this.playerId=this.videoplayer.attr("id"),this.play_btn=this.ref.find(".js-video-play"),this.videoId=this.ref.attr("data-videoid"),this.close.click(function(a){return function(b){return b.preventDefault(),a.player.pauseVideo(),a.ref.removeClass("video-show"),a.player.seekTo(0)}}(this)),window.hasYT!==!0&&(window.helpers.createPlayerAPI(),window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady),this.play_btn.click(function(a){return function(b){var c;return b.preventDefault(),c=$(b.currentTarget).closest(".video").attr("data-videoid"),window.is_mobile?a.player.cueVideoById(a.videoId):a.player.playVideo(),a.ref.addClass("video-show")}}(this))}return b.prototype.onYouTubeIframeAPIReady=function(){return this.player=new YT.Player(this.playerId,{height:"100%",width:"100%",videoId:this.videoId,playerVars:{controls:1,rel:0,showinfo:0,cc_load_policy:0,autoplay:0,enablejsapi:1},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}})},b.prototype.onPlayerReady=function(){},b.prototype.onPlayerStateChange=function(a){return a.data===YT.PlayerState.ENDED?this.ref.removeClass("video-show"):void 0},b}()}.call(this);