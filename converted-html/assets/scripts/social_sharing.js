// Generated by CoffeeScript 1.8.0
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  window.SocialSharing = (function() {
    function SocialSharing(ref) {
      this.ref = ref;
      this.setEmail = __bind(this.setEmail, this);
      this.setButtons = __bind(this.setButtons, this);
      this.meta_title = ($("meta[property='og:title']")).attr('content');
      this.meta_image = ($("meta[property='og:image']")).attr('content');
      this.meta_description = ($("meta[property='og:description']")).attr('content');
      this.loc = 'http://www.youtube.com/user/tods';
      this.facebook_btn = this.ref.find('.facebook a');
      this.twitter_btn = this.ref.find('.twitter a');
      this.gplus_btn = this.ref.find('.gp a');
      this.pinterest_btn = this.ref.find('.pinterest a');
      this.email_btn = this.ref.find('.email a');
      this.weibo_btn = this.ref.find('.weibo a');
      this.email_subject = "Tod's Youtube Channel";
      this.buttons = [this.facebook_btn, this.twitter_btn, this.gplus_btn, this.pinterest_btn, this.weibo_btn];
      this.setButtons();
      this.setEmail();
    }

    SocialSharing.prototype.setButtons = function() {
      var btn, i, _i, _ref, _results;
      _results = [];
      for (i = _i = 0, _ref = this.buttons.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        btn = $(this.buttons[i]);
        if (btn.length === 1) {
          _results.push(btn.click((function(_this) {
            return function(e) {
              var _btn;
              _btn = $(e.currentTarget).parent();
              e.preventDefault();
              if (_this.loc) {
                if (_btn.hasClass('facebook')) {
                  _this.url_to_open = encodeURI("http://www.facebook.com/sharer.php?u=" + _this.loc);
                }
                if (_btn.hasClass('weibo')) {
                  _this.url_to_open = encodeURI("http://service.weibo.com/share/share.php?url=" + _this.loc);
                }
                if (_btn.hasClass('twitter')) {
                  _this.url_to_open = encodeURI("http://twitter.com/share?text=" + _this.email_subject + "&url=" + _this.loc);
                }
                if (_btn.hasClass('gp')) {
                  _this.url_to_open = encodeURI("https://plus.google.com/share?url=" + _this.loc);
                }
                if (_btn.hasClass('pinterest')) {
                  _this.url_to_open = encodeURI("http://pinterest.com/pin/create/button?url=" + _this.loc + "&media=&description=" + _this.email_subject);
                }
                return window.open(_this.url_to_open, 'Share', 'toolbar=0,status=0,width=900,height=500');
              }
            };
          })(this)));
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    };

    SocialSharing.prototype.setEmail = function() {
      if (this.email_btn.length === 1) {
        return this.email_btn.click((function(_this) {
          return function(e) {
            var email_url;
            e.preventDefault();
            if (_this.loc) {
              email_url = encodeURI("mailto:?subject=" + _this.email_subject + "&body=" + _this.loc);
              return window.location.href = email_url;
            }
          };
        })(this));
      }
    };

    return SocialSharing;

  })();

}).call(this);
